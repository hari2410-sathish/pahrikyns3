"use strict";(()=>{var Q=Object.defineProperty,X=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var P=(e,o,s)=>o in e?Q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,m=(e,o)=>{for(var s in o||={})te.call(o,s)&&P(e,s,o[s]);if(D)for(var s of D(o))oe.call(o,s)&&P(e,s,o[s]);return e},b=(e,o)=>X(e,ee(o));var x=(e,o)=>()=>(e&&(o=e(e=0)),o);var se=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var O=(e,o,s)=>new Promise((a,t)=>{var n=c=>{try{r(s.next(c))}catch(p){t(p)}},i=c=>{try{r(s.throw(c))}catch(p){t(p)}},r=c=>c.done?a(c.value):Promise.resolve(c.value).then(n,i);r((s=s.apply(e,o)).next())});var S,V=x(()=>{S="2.10.0"});function ae(e){let o=e;for(;o&&o!==document.body;){let s=window.getComputedStyle(o).backgroundColor;if(s&&s!=="rgba(0, 0, 0, 0)"&&s!=="transparent")return s;o=o.parentElement}return window.getComputedStyle(document.body).backgroundColor}function M(e){return getComputedStyle(e).cursor==="pointer"}function re(e){try{let o=e.parentElement;for(;o;){if(H.includes(o.tagName.toLowerCase())&&M(o))return!0;o=o.parentElement}return!1}catch(o){return console.warn("[a11yScript]: Error checking if element is inside another pointer element",o),!1}}function R(){let e={focus:{violations:[],passes:[],violationWeight:5},imagesWithAlt:{violations:[],passes:[],violationWeight:1.5},buttonsWithLabels:{violations:[],passes:[],violationWeight:3},elementsWithRole:{violations:[],passes:[],violationWeight:1.5},html:{violations:[],passes:[],violationWeight:1},skipLinksWithNavigationRole:{violations:[],passes:[],violationWeight:1},ariaInputsWithNames:{violations:[],passes:[],violationWeight:1},elementsWithTabindexZero:{violations:[],passes:[],violationWeight:2},highContrastElements:{violations:[],passes:[],violationWeight:1},listItemsInProperParents:{violations:[],passes:[],violationWeight:2},formElementsWithLabels:{violations:[],passes:[],violationWeight:3},correctHeadingOrder:{violations:[],passes:[],violationWeight:1.5}};try{let o=document.querySelectorAll(N.join(","));document.querySelectorAll(H.join(",")).forEach(t=>{if(!N.some(i=>t.closest(i))&&!re(t)&&M(t)){let i=`${t.tagName.toLowerCase()} cannot be interactive (found cursor: pointer)`;u(t,i,q),e.focus.violations.push({element:t,issue:i})}}),o.forEach(t=>{if(t.tagName.toLowerCase()==="a"&&!t.hasAttribute("href")){let n="Link without href";u(t,n,q),e.focus.violations.push({element:t,issue:n})}else e.focus.passes.push({element:t})}),document.querySelectorAll("img").forEach(t=>{if(t.hasAttribute("alt"))e.imagesWithAlt.passes.push({element:t});else{let n="Image without alt";u(t,n),e.imagesWithAlt.violations.push({element:t,issue:n})}}),document.querySelectorAll('button, a, [role="menuitem"]').forEach(t=>{var i;if(!t.querySelector("img[alt]")&&!t.getAttribute("aria-label")&&!t.getAttribute("aria-labelledby")&&!t.getAttribute("title")&&!((i=t.textContent)!=null?i:"").trim()){let r="Button/icon without accessible name";u(t,r),e.buttonsWithLabels.violations.push({element:t,issue:r})}else e.buttonsWithLabels.passes.push({element:t})}),document.querySelectorAll("[tabindex]").forEach(t=>{if(!t.hasAttribute("role")&&!N.includes(t.tagName.toLowerCase())){let i="Has tabIndex but no role";u(t,i),e.elementsWithRole.violations.push({element:t,issue:i})}else e.elementsWithRole.passes.push({element:t});let n=t.getAttribute("tabindex");if(n&&parseInt(n,10)>0){let i="Element with [tabindex] > 0";u(t,i),e.elementsWithTabindexZero.violations.push({element:t,issue:i})}else e.elementsWithTabindexZero.passes.push({element:t})}),document.querySelectorAll('[role="textbox"], [role="searchbox"], [role="combobox"]').forEach(t=>{if(!t.getAttribute("aria-label")&&!t.getAttribute("aria-labelledby")){let n="ARIA input field without accessible name";u(t,n),e.ariaInputsWithNames.violations.push({element:t,issue:n})}else e.ariaInputsWithNames.passes.push({element:t})});let s=document.documentElement;if(s.hasAttribute("lang"))e.html.passes.push({element:s});else{let t="<html> element missing [lang] attribute";u(s,t),e.html.violations.push({element:s,issue:t})}document.querySelectorAll("a, button").forEach(t=>{var n;if(((n=t.textContent)!=null?n:"").includes("Skip")&&!t.closest('[role="navigation"], nav')){let i="Skip link/button without navigation role";u(t,i),e.skipLinksWithNavigationRole.violations.push({element:t,issue:i})}}),document.querySelectorAll("p, span").forEach(t=>{if(!!window.tinycolor)try{let n=ae(t),i=getComputedStyle(t).color;if(tinycolor.isReadable(i,n,{level:"AA",size:"large"}))e.highContrastElements.passes.push({element:t});else{let c="Low contrast ratio";u(t,c),t.dataset.textColor=i,t.dataset.bgColor=n,e.highContrastElements.violations.push({element:t,issue:c})}}catch(n){console.log("[a11yScript]: Error checking contrast ratio. Skipping...",n)}}),document.querySelectorAll("li").forEach(t=>{if(t.closest("ul, ol, menu"))e.listItemsInProperParents.passes.push({element:t});else{let n="List item not in <ul>, <ol>, or <menu>";u(t,n),e.listItemsInProperParents.violations.push({element:t,issue:n})}}),document.querySelectorAll("input, select, textarea").forEach(t=>{let n=t.getAttribute("id");if(document.querySelector(`label[for="${n}"]`)||t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")||t.closest("label"))e.formElementsWithLabels.passes.push({element:t});else{let r="Form element without associated label";u(t,r),e.formElementsWithLabels.violations.push({element:t,issue:r})}});let a=0;document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(t=>{let n=parseInt(t.tagName.substring(1),10);if(n>a+1){let i="Skipped heading level";u(t,i),e.correctHeadingOrder.violations.push({element:t,issue:i})}else e.correctHeadingOrder.passes.push({element:t});a=n})}catch(o){console.warn("[a11yScript]: Error checking accessibility violations",o)}return e}var ie,q,N,H,u,_,G,j,F=x(()=>{"use strict";ie="1px solid orange",q="2px solid red",N=["button","a","input","label","textarea","select","option"],H=["div","span","section","article","p","main"];u=(e,o,s=ie,a=!1)=>{a&&e&&(e.style.outline=s,e.dataset.a11yViolation="true",e.dataset.a11yViolationIssue=o)};_=e=>Object.fromEntries(Object.keys(e).map(o=>{let s=e[o];return s.passes.length===0&&s.violations.length===0?[o,{passes:s.passes,violations:s.violations,score:NaN,violationWeight:s.violationWeight}]:[o,{passes:s.passes,violations:s.violations,score:100-s.violations.length*s.violationWeight*100/(s.passes.length+s.violations.length*s.violationWeight),violationWeight:s.violationWeight}]})),G=e=>{let o=Object.keys(e).filter(a=>!isNaN(e[a].score)&&a!=="focus");return o.length===0?100:o.reduce((a,t)=>a+e[t].score,0)/o.length},j=()=>new Promise((e,o)=>{let s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/tinycolor2@1.6.0/dist/tinycolor-min.js",document.head.appendChild(s),s.onload=()=>{e()},s.onerror=()=>{o(new Error("[a11yScript]: Failed to load tinycolor2"))}})});var me=se(J=>{V();F();var K="Accessibility Coverage",z=e=>{if(e.parentElement&&z(e.parentElement))return!0;if(!(e instanceof HTMLElement))return!1;if(e.hidden)return!0;let o=getComputedStyle(e);return o.display==="none"||o.visibility==="hidden"||o.opacity==="0"},le=e=>!e||!e.childNodes.length||!e.childNodes.length,ce=e=>["img","video","audio","source","picture"].includes(e.tagName.toLowerCase()),ue=e=>{let o="sidenav",s="top-nav",a=e.getAttribute("data-blade-component");return!!(a===o||a===s||e.closest(`[data-blade-component=${o}]`)||e.closest(`[data-blade-component=${s}]`))},w=e=>{if(ue(e))return!0;let o=["box"],s=e.getAttribute("data-blade-component");return!!(s&&o.includes(s))},de=()=>{let e=document.querySelectorAll("body *"),o=[],s=[],a=[],t=[];e.forEach(l=>{if(z(l)||le(l)||ce(l))return;let d=l.closest("svg");if(l.tagName.toLocaleLowerCase()==="svg"&&l.hasAttribute("data-blade-component")){o.push(l),s.push(l),w(l)||(t.push(l),a.push(l));return}(d==null?void 0:d.getAttribute("data-blade-component"))!=="icon"&&(d&&!l.hasAttribute("data-blade-component")||(s.push(l),w(l)||a.push(l),l.hasAttribute("data-blade-component")&&(o.push(l),w(l)||t.push(l))))});let n=s.length,i=o.length,r=a.length,c=t.length,p=Number((i/n*100).toFixed(2)),g=Number((c/r*100).toFixed(2));return n===0&&(p=0,g=0),r===0&&(g=0),{bladeCoverage:p,totalNodes:n,bladeNodes:i,designConsistencyBladeCoverage:g,designConsistencyTotalNodes:r,designConsistencyBladeNodes:c}};function pe(e,o){return Math.floor((e.getTime()-o.getTime())/864e5)}var y="blade-analytics-data";function he(e){try{return localStorage.getItem(e)}catch(o){return null}}function W(e){try{localStorage.removeItem(e)}catch(o){}}function $(e){try{localStorage.setItem(y,e)}catch(o){W(y)}}var C=(e,o)=>O(J,null,function*(){var t;let s="6lpfX5loXnTbBFVo2FbJHpjins0hGaC4",a=(t=o.eventName)!=null?t:"Component Coverage";if(o.debug&&console.log(a,e),!o.skipSendingData)try{yield fetch("https://api.segment.io/v1/track",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({properties:e,event:a,writeKey:s,userId:"fecore@test.com"})})}catch(n){console.log(n)}}),T=({businessUnit:e,skipSendingData:o=!1,debug:s=!1})=>{let{bladeNodes:a,totalNodes:t,bladeCoverage:n,designConsistencyBladeCoverage:i,designConsistencyTotalNodes:r,designConsistencyBladeNodes:c}=de(),p=R(),g=_(p),l=G(g),d=g.focus.score,v=0;isNaN(d)?(v=l,d=100):v=(l+d)/2;let I=window.location.pathname,U=window.location.host,L=window.innerWidth,Y=window.innerHeight,Z=L>768?"desktop":"mobile",f=`${window.location.origin}${I}`,A=new Date,k=he(y),h=k?JSON.parse(k):{};s&&console.log("PAGE ACCESSIBILITY VIOLATIONS",{a11yChecks:p}),h.packageVersion||(h.packageVersion=S,W(y)),h.packageVersion!==S&&W(y);let B=h[f],E={projectDomain:U,path:I,deviceWidth:L,deviceHeight:Y,deviceType:Z,fullPageUrl:f,businessUnit:e};if(!B){h[f]=A.getTime(),$(JSON.stringify(h)),C(b(m({},E),{totalComponents:t,bladeComponents:a,nonBladeComponents:t-a,bladeCoverage:n,designConsistencyBladeCoverage:i,designConsistencyTotalComponents:r,designConsistencyBladeComponents:c,designConsistencyNonBladeComponents:r-c}),{debug:s,skipSendingData:o}),C(b(m({},E),{a11yScore:v,a11yFocusScore:d,a11yStaticScore:l}),{debug:s,skipSendingData:o,eventName:K});return}pe(A,new Date(B))>=14&&(h[f]=A.getTime(),$(JSON.stringify(h)),C(b(m({},E),{totalComponents:t,bladeComponents:a,nonBladeComponents:t-a,bladeCoverage:n,designConsistencyBladeCoverage:i,designConsistencyTotalComponents:r,designConsistencyBladeComponents:c,designConsistencyNonBladeComponents:r-c}),{debug:s,skipSendingData:o}),C(b(m({},E),{a11yScore:v,a11yFocusScore:d,a11yStaticScore:l}),{debug:s,skipSendingData:o,eventName:K}))};function ge({businessUnit:e,skipSendingData:o=!1,debug:s=!1,_skipLoadTinyColorScript:a=!1}){try{if(window.setTimeout(()=>{try{a?T({businessUnit:e,skipSendingData:o,debug:s}):j().finally(()=>{T({businessUnit:e,skipSendingData:o,debug:s})}).catch(i=>{console.log(i)})}catch(i){console.log(i)}},7e3),"navigation"in window){let i=function(r){return r.downloadRequest||r.formData};var t=i;navigation.addEventListener("navigate",r=>{i(r)||window.setTimeout(()=>{try{T({businessUnit:e,skipSendingData:o,debug:s})}catch(c){console.log(c)}},7e3)})}}catch(n){console.log(n)}}window.initBladeCoverageAnalytics=ge});me();})();
