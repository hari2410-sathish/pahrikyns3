(function(){"use strict";const M={DEBUG:"debug"},U=(e,n=300)=>{let t;return function(...o){clearTimeout(t),t=setTimeout(()=>{e(...o)},n)}};/*! js-cookie v3.0.1 | MIT */function R(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)e[r]=t[r]}return e}var Q={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function V(e,n){function t(o,i,a){if(!(typeof document>"u")){a=R({},n,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,a[u]!==!0&&(s+="="+a[u].split(";")[0]));return document.cookie=o+"="+e.write(i,o)+s}}function r(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var i=document.cookie?document.cookie.split("; "):[],a={},s=0;s<i.length;s++){var u=i[s].split("="),f=u.slice(1).join("=");try{var l=decodeURIComponent(u[0]);if(a[l]=e.read(f,l),o===l)break}catch{}}return o?a[o]:a}}return Object.create({set:t,get:r,remove:function(o,i){t(o,"",R({},i,{expires:-1}))},withAttributes:function(o){return V(this.converter,R({},this.attributes,o))},withConverter:function(o){return V(R({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var B=V(Q,{path:"/"});function ee(){return window.location.hostname.split(".").slice(-2).join(".")}function te(){const n={domain:`.${ee()}`,path:"/"};function t(i,a){return B.set(i,a,{...n,expires:365})}function r(i,a){return B.get(i)??a}function o(i){return B.remove(i,{...n})}return{set:t,get:r,remove:o}}const H=()=>{const e=()=>Math.floor(Math.random()*4294967296).toString(16).padStart(8,"0"),n=Date.now().toString(16).padStart(12,"0");return[e(),e().substring(0,4),`4${e().substring(1,4)}`,`8${e().substring(1,4)}`,n.substring(0,12)].join("-")},_=e=>{if(!e||typeof e!="object"||Array.isArray(e))return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.prototype},N=e=>e?e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(n,t)=>t.toUpperCase()).replace(/^[A-Z]/,n=>n.toLowerCase()):"";function I(e,n=()=>{}){return(...t)=>{try{return e(...t)}catch(r){console.error(r),n(r)}}}function j(e){setTimeout(e,0)}const ne=e=>{document.readyState!=="loading"?j(e):document.addEventListener("DOMContentLoaded",e)},re=e=>{document.readyState!=="loading"?j(e):window.addEventListener("load",e)};function oe(){const e={};function n(r,o){e[r]=r in e?[...e[r],o]:[o]}function t(r,o){var i;(i=e[r])==null||i.forEach(a=>a(o))}return{on:n,emit:t}}const W=(e,...n)=>n.reduce((t,r)=>(Object.keys(r).forEach(i=>{i in t&&_(r[i])&&_(t[i])?t[i]=W(t[i],r[i]):t[i]=r[i]}),t),e),ie=e=>({SESSION_ID:`ra_sessionId_${e}`,SESSION_REFERRER:`ra_sessionReferrer_${e}`,LAST_ACTIVITY_TIMESTAMP:`ra_lastActivityTimeStamp_${e}`,UTM:`ra_utm_${e}`,FIRST_UTM:`ra_first_utm_${e}`,SESSION_UTM:`ra_session_utm_${e}`,IDENTITY:`ra_identity_${e}`,INIT_CONFIG:`ra_initConfig_${e}`,CLIENT_ID:"ra_clientId",TAB_ID:"ra_tabId",TAB_RELOAD_COUNT:"ra_tabReloadCount",DEBUG_MODE:"ra_enableAnalyticsLiveDebugMode",CLIENT_ID_OLD:"clientId",SESSION_ID_OLD:"sessionId"}),se=()=>{const e=navigator.userAgent,n=[{name:"Chrome",regex:/Chrome\/([0-9.]+)/},{name:"Firefox",regex:/Firefox\/([0-9.]+)/},{name:"Safari",regex:/Version\/([0-9.]+).*Safari/},{name:"Edge",regex:/Edg\/([0-9.]+)/},{name:"Opera",regex:/OPR\/([0-9.]+)/},{name:"IE",regex:/MSIE ([0-9.]+)/}];for(const t of n){const r=e.match(t.regex);if(r)return{name:t.name.toLowerCase(),version:r[1].split(".")[0]}}return{name:"unknown",version:"unknown"}},ae=()=>{const e=navigator.userAgent;return e.includes("Windows")?"windows":e.includes("Mac")?"macos":e.includes("Linux")?"linux":e.includes("Android")?"android":e.includes("iOS")||e.includes("iPhone")||e.includes("iPad")?"ios":"unknown"},ce=()=>{const e=navigator.userAgent;return e.includes("Mobile")||e.includes("Android")||e.includes("iPhone")?"mobile":e.includes("iPad")||e.includes("Tablet")?"tablet":"desktop"},ue=()=>{var e;return((e=navigator.connection)==null?void 0:e.effectiveType)||"unknown"},le=()=>({width:window.screen.width,height:window.screen.height,pixelRatio:window.devicePixelRatio||1}),de=()=>{const e=se(),n=ae(),t=ce(),r=ue(),o=le();return{browserName:e.name,browserVersion:e.version,osName:n,deviceType:t,connectionType:r,screenSize:`${o.width}x${o.height}`,platformName:"browser",userAgent:navigator.userAgent,language:navigator.language,timezone:new Intl.DateTimeFormat().resolvedOptions().timeZone}};function fe(e){const n={},t={},r=te(),o=oe(),i=ie(e),a=b=>_(b)?(Object.assign(n,b),!0):!1,s=()=>n,u=(b,v)=>{_(v)&&(b.analyticsProperties=v)},f=b=>_(b)?(Object.assign(t,b),!0):!1,l=()=>t,d=(b="",v)=>_(v)&&b.length>0?(r.set(i.IDENTITY,JSON.stringify({id:b,...v})),!0):!1,c=()=>r.remove(i.IDENTITY),m=()=>JSON.parse(r.get(i.IDENTITY)||"{}"),p=de(),h=b=>{var v,P,A;return{userAgent:navigator.userAgent,connectionType:((v=navigator==null?void 0:navigator.connection)==null?void 0:v.effectiveType)??null,screenSize:`${(P=window.screen)==null?void 0:P.availWidth}x${(A=window.screen)==null?void 0:A.availHeight}`,...p,identity:m(),page:pe(b.pageConfig),tab:ge(i),experiments:t,medium:"razorAnalytics"}},E=b=>{try{sessionStorage.setItem(i.INIT_CONFIG,JSON.stringify(b))}catch(v){console.log(v)}};return me(i),{getContextProperties:h,setEventProperties:a,getEventProperties:s,setElementProperties:u,setExperiments:f,setIdentity:d,getIdentity:m,getExperiments:l,removeIdentity:c,eventEmitter:o,storage:r,STORAGE_KEYS:i,storeConfigInSession:E}}function me(e){if(sessionStorage.getItem(e.TAB_ID)){const t=+sessionStorage.getItem(e.TAB_RELOAD_COUNT);sessionStorage.setItem(e.TAB_RELOAD_COUNT,t+1)}else sessionStorage.setItem(e.TAB_ID,H())}function ge(e){return{tabId:sessionStorage.getItem(e.TAB_ID),reloadedOrDuplicatedCount:+sessionStorage.getItem(e.TAB_RELOAD_COUNT)}}function Y(){const e=document.referrer;try{const n=new URL(e);return`${n.origin}${n.pathname}`}catch{return""}}function pe(e){const n=new URL(window.location.href);return e.captureSearchParams||(n.search=""),e.captureHashParams||(n.hash=""),{title:document.title,referrer:Y(),url:n.toString()}}function be({context:e}){const{eventEmitter:n,storage:t,STORAGE_KEYS:r}=e;function o(d){const c=l(d);t.set(r.CLIENT_ID,c);const m=d.session,p=()=>{const h=u(m),E=t.get(r.SESSION_ID);(h||!E)&&(a(),s()),t.set(r.LAST_ACTIVITY_TIMESTAMP,Date.now())};p(),he(p)}function i(d){return{...d,context:{...d.context,clientId:t.get(r.CLIENT_ID),sessionId:t.get(r.SESSION_ID),sessionReferrer:t.get(r.SESSION_REFERRER),clientIdOld:t.get(r.CLIENT_ID_OLD),sessionIdOld:t.get(r.SESSION_ID_OLD)}}}function a(){t.remove(r.SESSION_REFERRER),t.remove(r.SESSION_ID),t.remove(r.LAST_ACTIVITY_TIMESTAMP),n.emit("sessionEnd")}function s(){const d=Y(),c=Date.now();t.set(r.SESSION_REFERRER,d),t.set(r.SESSION_ID,c),t.set(r.LAST_ACTIVITY_TIMESTAMP,c),n.emit("sessionStart")}function u({timeout:d=30}){const c=Date.now(),m=f();return c>m+d*60*1e3}function f(){return Number(t.get(r.LAST_ACTIVITY_TIMESTAMP,0))}function l({clientId:d}){const c=t.get(r.CLIENT_ID);return d??c??H()}return{init:o,eventReducer:i,name:"session"}}function he(e){const n=["click","keypress","scroll","change"],t=U(e,1e3);n.forEach(r=>document.addEventListener(r,t,!0))}function z(...e){let n=window.location.pathname;const t=r=>{try{const i=new URL(r).pathname;if(i===n)return;n=i,e.forEach(a=>a(r))}catch(o){console.error(o)}};if(typeof navigation<"u"){const r=o=>{j(()=>t(o.destination.url))};return navigation.addEventListener("navigate",r),()=>{navigation.removeEventListener("navigate",r)}}else{window.history.pushState=new Proxy(window.history.pushState,{apply:(o,i,a)=>{const s=Reflect.apply(o,i,a);return t(window.location.href),s}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(o,i,a)=>{const s=Reflect.apply(o,i,a);return t(window.location.href),s}});const r=()=>{t(window.location.href)};return window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r)}}}const ve=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_adgroup","utm_keyword","utm_matchtype","utm_device","utm_placement","utm_campaign_id","utm_adgroup_id","utm_content_id","utm_creative","gclid","dclid","wbraid","gbraid","fbclid","msclkid","twclid","ttclid","sclid","epik","rdt_cid","tbclid"];function Ee({context:e}){const{eventEmitter:n,storage:t,STORAGE_KEYS:r}=e;function o(l={}){const d=l.utm??{},c=f(d);a(c),s(c),z(()=>{s(f(d))}),n.on("sessionStart",()=>{const m=f(d);u(m)}),n.on("sessionEnd",()=>{t.set(r.SESSION_UTM,JSON.stringify({}))})}function i(l){const d=JSON.parse(t.get(r.FIRST_UTM)||"{}"),c=JSON.parse(t.get(r.SESSION_UTM)||"{}"),m=JSON.parse(t.get(r.UTM)||"{}");return{...l,context:{...l.context,utm:m,firstTouchUtm:d,sessionUtm:c}}}function a(l={}){const d=t.get(r.FIRST_UTM),c=JSON.parse(d||"{}");Object.keys(c).length===0&&t.set(r.FIRST_UTM,JSON.stringify(l))}function s(l={}){Object.keys(l).length!==0&&t.set(r.UTM,JSON.stringify(l))}function u(l={}){Object.keys(l).length!==0&&t.set(r.SESSION_UTM,JSON.stringify(l))}function f(l){const{captureExtraParams:d=[],initialParams:c={}}=l,m=new URLSearchParams(window.location.search),h=[...ve,...d].reduce((E,b)=>{const v=m.get(b);return v&&(E[b]=v),E},{});return{...c,...h}}return{init:o,eventReducer:i,name:"utm"}}function Se(e){let n=!1;return(...t)=>{n||(n=!0,e(...t))}}const O={pageView:"pageView",elementView:"elementView",pageScroll:"pageScroll",elementScroll:"elementScroll",linkClick:"linkClick",buttonClick:"buttonClick",inputChange:"inputChange",formSubmit:"formSubmit",formInputChange:"formInputChange",formError:"formError",tabVisibility:"tabVisibility"},J=["article","aside","details","figure","footer","form","header","main","nav","section"],Te=["accordion","accordion-item","alert","bottomnav","bottom-sheet","button-group","card","calendar","carousel","collapsible","chip-group","drawer","dropdown-overlay","menu","modal","dialog","preview","popover","sidenav","step-group","tabs","table","tag","top-nav"],Ie=["id","name","href","type","placeholder"];function we(...e){const n=document.body,t={childList:!0,subtree:!0},r=U(i=>{e.forEach(a=>a(i))},200),o=new MutationObserver(r);return o.observe(n,t),()=>{o.disconnect()}}function k(e){return["enabled","capture-search-params","capture-hash-params","capture-input-value","capture-text-content"].reduce((t,r)=>{const o=`data-analytics-${r}`;if(e.hasAttribute(o)){const i=e.getAttribute(o);t[N(r)]=i==="true"}return t},{})}function Ce(e=5e3){const n=new WeakMap;return(t,r)=>{const o=performance.now();if(n.has(r)){const i=n.get(r);if(o-i<e)return}n.set(r,o),t()}}function ye(e){var n;return e.tagName==="INPUT"?((n=e.value)==null?void 0:n.trim())??"":e.textContent.trim()}const _e=e=>{const n=!e.startsWith("on"),t=e.startsWith("aria-")||e.startsWith("data-"),r=Ie.includes(e);return n&&(t||r)};function Oe(e){return Array.from(e.attributes).reduce((t,r)=>(_e(r.name)&&(t[r.name]=r.value),t),{})}function Pe(e){const n=Oe(e);return Object.keys(n).reduce((t,r)=>{const o=N(r);return t[o]=n[r],t},{})}function G(e){const t=["dataAnalyticsName","name","ariaLabel","dataName","id"].find(r=>r in e);return e[t]??""}function F(e){const n=Pe(e),t=G(n);return{targetElement:e.tagName.toLowerCase(),...n,derivedName:t}}function Ae(e,n){return e.hasAttribute(n)&&Te.includes(e.getAttribute(n))||e.hasAttribute("data-analytics-name")}function Ne(e){let n=e.parentElement;const t=[];for(;n;)t.push(n),n=n.parentElement;return t}function Le(e,n){return e.reduce((t,r)=>J.includes(r.tagName.toLowerCase())?(t[0].push(r),t):(Ae(r,n)&&t[1].push(r),t),[[],[]])}function De(e=[]){return e.reverse().reduce((t,r)=>r.analyticsProperties?Object.assign(t,r.analyticsProperties):t,{})}function Re(e=[],n=[],t){const o=e.reverse().reduce((a,s)=>{let u=s.tagName.toLowerCase();const l=F(s).derivedName;return u in a&&(u=N(`sub-${u}`)),Object.assign(a,{[u]:l})},{}),i=n.reverse().reduce((a,s)=>{const u=s.getAttribute(t),f=G(F(s));let l=u?N(u):"container";return l in a&&(l=N(`sub-${l}`)),Object.assign(a,{[l]:f})},{});return{...o,...i}}function L(e,n){const t=Ne(e),[r,o]=Le(t,n),i=De(t);return ke({...F(e),relations:Re(r,o,n),...i})}function ke(e){return Object.keys(e).reduce((n,t)=>(e[t]&&(n[t]=e[t]),n),{})}function xe(e,n){const t=["button","input","[role='button']"],r=a=>a.tagName==="BUTTON"||a.getAttribute("role")==="button"?a.type==="submit"&&a.closest("form")?"formSubmit":"buttonClick":a.tagName==="INPUT"?"formSubmit":"linkClick",i=I(a=>{const s=a.target,f=s.closest("a")||s.closest(t.join(","));if(f){if(f.tagName==="INPUT"&&f.type!=="submit")return;const l=r(f),d=k(f),c={...e[l],...d};if(!c.enabled)return;const m=L(f,e.customComponentAttributeName),p=ye(f),h={x:a.x??"",y:a.y??""},E={...m,textContent:p,position:h},b=Me(c,E);n(O[l])({...b})}});return document.addEventListener("click",i,{capture:!0}),()=>{document.removeEventListener("click",i,{capture:!0})}}function Me(e,n){return e.captureTextContent||delete n.textContent,n.href&&(e.captureSearchParams||(n.href=Ue(n.href)),e.captureHashParams||(n.href=Ve(n.href))),n}function Ue(e){const n=new URL(e,window.location.origin);return n.search="",n.toString()}function Ve(e){const n=new URL(e,window.location.origin);return n.hash="",n.toString()}function Be(e,n){const t=Ce(1e3),o=I(i=>{const a=i.target,s=k(a),u={...e.inputChange,...s};if(!u.enabled)return;t(()=>{const l=L(a,e.customComponentAttributeName);u.captureInputValue&&(l.value=a.value),n(O.inputChange)(l)},a)});return document.addEventListener("change",o,{capture:!0}),()=>{document.removeEventListener("change",o,{capture:!0})}}function je(e,n){if(!e.inputError.enabled)return()=>{};let r=[];return I(()=>{const i=Array.from(document.querySelectorAll("[aria-invalid='true']"));i.forEach(a=>{if(!r.includes(a)){const s=L(a,e.customComponentAttributeName),u=a.getAttribute("aria-describedby"),f=document.getElementById(u);n("inputError")({...s,errorText:f==null?void 0:f.textContent})}}),r=i})}function Fe(e,n){if(!e.performance.enabled)return;re(()=>{const[o]=performance.getEntriesByType("navigation");o&&n("navigation")("pageLoadTiming")({ttfb:o.responseStart-o.startTime,domLoad:o.domContentLoadedEventEnd-o.startTime,pageLoad:o.loadEventEnd-o.startTime})})}function $e(e,n){if(!e.scroll.enabled)return;const r=new WeakMap,o=100;function i(c,m){return m===0?0:Math.round(100*c/m)}const a=c=>{let m;const p={scrollLeft:c.scrollLeft,scrollTop:c.scrollTop};return r.has(c)?(m=r.get(c),r.set(c,p),{currentScrollValue:p,previousScrollValue:m}):(r.set(c,p),m={scrollLeft:0,scrollTop:0},{currentScrollValue:p,previousScrollValue:m})},s=c=>{const{currentScrollValue:m,previousScrollValue:p}=c,h=Math.abs(m.scrollLeft-p.scrollLeft),E=Math.abs(m.scrollTop-p.scrollTop);return h>o||E>o},u=(c,m)=>{const{currentScrollValue:p}=m,h=c.scrollHeight-c.clientHeight,E=c.scrollWidth-c.clientWidth;return{scrollXPercentage:i(p.scrollLeft,E),scrollYPercentage:i(p.scrollTop,h)}},l=U(async c=>{const m=c.target.nodeName==="#document",p=m?c.target.scrollingElement:c.target,h=k(p);if("enabled"in h&&!h.enabled)return;const E=m?O.pageScroll:O.elementScroll;if(E==="elementScroll"&&!await He(p))return;const b=a(p);if(!s(b))return;const{scrollXPercentage:P,scrollYPercentage:A}=u(p,b),y=L(p,e.customComponentAttributeName);n(E)({...y,scrollYPercentage:A,scrollXPercentage:P})},1e3),d=I(l);return document.addEventListener("scroll",d,{capture:!0,passive:!0}),()=>{document.removeEventListener("scroll",d,{capture:!0})}}function He(e){return new Promise(n=>{const t=new IntersectionObserver(r,{threshold:.1});function r(o){o.forEach(i=>{i.isIntersecting&&i.target===e?n(!0):n(!1)}),t.disconnect()}t.observe(e)})}function We(e,n){const r=I(()=>{e.tab.enabled&&n(O.tabVisibility)({eventName:O.tabVisibility,visibilityState:document.visibilityState,eventTimingSincePageLoad:Math.ceil(performance.now())})});return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}}function Ye(e,n){const t=e.pageView;if(!t.enabled)return()=>{};let r;const o=Se(n("pageReadSuccess")),i=()=>{r=setTimeout(()=>{o()},t.pageReadSuccessTimeout*1e3)},a=()=>{document.visibilityState==="hidden"?clearTimeout(r):i()};return document.addEventListener("visibilitychange",I(a)),i(),()=>{n("pageView")()}}function ze(e,n){const t=new WeakMap,r=e.elementView;if(!r.enabled)return()=>{};const o={threshold:r.threshold},i=u=>`${u.tagName.toLowerCase()}View`,a=u=>{u.forEach(f=>{const l=f.target;if(f.isIntersecting){t.set(l,!0);const d=()=>{const c=k(f.target);if("enabled"in c&&!c.enabled)return;const m=L(f.target,e.customComponentAttributeName),p=i(l);n(p)(m)};setTimeout(()=>{t.get(l)&&d()},r.viewTimeout*1e3)}else t.set(l,!1)})},s=new IntersectionObserver(I(a),o);return function(){const f=J.join(",");return Array.from(document.body.querySelectorAll(f)).forEach(d=>{t.has(d)||(t.set(d,!1),s.observe(d))}),()=>{s.disconnect()}}}function Je(e={}){let n,t=!1;const r=s=>{e.enabled&&!t&&(t=!0,ne(()=>{n==null||n(),n=Ge(e,s),t=!1}))};function o(s,u){r(u)}function i(){n==null||n()}function a(s){r(s)}return{init:o,disableTracking:i,enableTracking:a,name:"autoCapture"}}function Ge(e,{createTracker:n}){const t=n("userInteraction"),r=n("performance"),o=t("click"),i=t("input"),a=t("tab"),s=t("scroll"),u=t("view"),f=xe(e,o),l=Be(e,i),d=We(e,a),c=$e(e,s);Fe(e,r);const m=Ye(e,u);m();const p=ze(e,u),h=p(),E=je(e,i),b=we(p,E),v=z(m);return()=>{f==null||f(),l==null||l(),d==null||d(),c==null||c(),b==null||b(),v==null||v(),h==null||h()}}const Ze=()=>({plugins:[],mode:"debug",session:{timeout:30},pageConfig:{captureSearchParams:!1,captureHashParams:!1},utm:{captureExtraParams:[],initialParams:{}},sendEventToWebViewHost:!1,sendMetaEvent:!1,eventProperties:{},identity:{},experiments:{},autoCapture:{enabled:!1,customComponentAttributeName:"data-blade-component",buttonClick:{enabled:!0,captureTextContent:!1},linkClick:{enabled:!0,captureTextContent:!1,captureSearchParams:!1,captureHashParams:!1},formSubmit:{enabled:!0,captureTextContent:!1},pageView:{enabled:!0,pageReadSuccessTimeout:15},elementView:{enabled:!0,viewThreshold:.3,viewTimeout:0},inputChange:{enabled:!0,captureInputValue:!1},inputError:{enabled:!0},tab:{enabled:!1},scroll:{enabled:!1},performance:{enabled:!1}}});function qe(e){let n=!1;const t=fe(e??"default"),{storage:r,storeConfigInSession:o,STORAGE_KEYS:i}=t,a=g=>S=>T=>(C={})=>c({category:g,subCategory:S,eventName:T,attributes:C}),s={init:I(f,u),debug:I(A,u),disableTracking:I(l,u),enableTracking:I(d,u),createTracker:a,track:I(c,u),setIdentity:I(v,u),removeIdentity:I(P,u),setEventProperties:I(E,u),setElementProperties:I(p,u),setExperiments:I(b,u),context:t,name:e};function u(g){var S,T;if(s.config.mode===M.debug)throw g;(T=(S=s.config).onError)==null||T.call(S,g)}function f(g={}){var D;s.config=W({},Ze(),g);const T=[...[Ee(s),be(s)],...s.config.plugins];(((D=s.config.autoCapture)==null?void 0:D.enabled)??!1)&&T.push(Je(s.config.autoCapture)),s.plugins=T,E(g.eventProperties),b(g.experiments);const{userId:w,...$}=g.identity??{};v(w,$),y("init",s.config),o(s.config)}function l(){n=!0,y("disableTracking")}function d(){n&&(n=!1,y("enableTracking"))}function c(g){var x,q,X,K;if(n)return;if(!g.category||!g.subCategory||!g.eventName)throw new Error("category, subCategory and eventName is mandatory");const S=t.getContextProperties(s.config),T=t.getEventProperties(),C={context:S,properties:{...g,meta:T,eventTimingSincePageLoad:Math.ceil(performance.now()),timestamp:Date.now()}},w=Z(C);try{w&&((q=(x=window==null?void 0:window.top)==null?void 0:x.postMessage)==null||q.call(x,{type:"razorAnalytics",...w},"*"))}catch(Xe){console.log(Xe)}const $=r.get(i.DEBUG_MODE)==="true",D=(X=s==null?void 0:s.config)==null?void 0:X.mode;if((D===M.DEBUG||$)&&(console.log(`%c[RazorAnalytics] : ${w?w.properties.eventName:"Event Skipped by returning"}`,"color: lightgreen;",w),D===M.DEBUG))return w;if(w)return(K=s.config)!=null&&K.sendEventToWebViewHost&&m(w),y("track",w),w}function m(g={}){if(typeof window<"u"&&window.hasOwnProperty("ReactNativeWebView"))try{window.ReactNativeWebView.postMessage(JSON.stringify({eventType:"ANALYTICS",data:g}))}catch(S){console.log(S)}}function p(g,S={}){t.setElementProperties(g,S)}const h=g=>{var S;(S=s.config)!=null&&S.sendMetaEvent&&c({category:"metaEvent",...g})};function E(g){t.setEventProperties(g)&&h({subCategory:"eventProperties",eventName:"setProperties"})}function b(g){t.setExperiments(g)&&h({subCategory:"experiment",eventName:"setExperiments"})}function v(g,S={}){t.setIdentity(g,S)&&(y("setIdentity",g,S),h({subCategory:"identity",eventName:"setIdentity"}))}function P(){t.removeIdentity(),y("removeIdentity"),h({subCategory:"identity",eventName:"removeIdentity"})}function A(g){r.set(i.DEBUG_MODE,g===!0),y("debug",g)}function y(g,...S){s==null||s.plugins.forEach(T=>{var C;return(C=T[g])==null?void 0:C.call(T,...S,s)})}function Z(g){return(s==null?void 0:s.plugins.some(T=>{var C;return((C=T.eventReducer)==null?void 0:C.call(T,g,s))===!1}))?!1:s==null?void 0:s.plugins.reduce((T,C)=>{var w;return((w=C.eventReducer)==null?void 0:w.call(C,T,s))??T},g)}return s}window.createRazorAnalyticsCore=qe})();
